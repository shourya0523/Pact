{
  "users": {
    "validator": {
      "$jsonSchema": {
        "bsonType": "object",
        "required": ["username", "email", "password", "name"],
        "properties": {
          "_id": {
            "bsonType": "objectId",
            "description": "Primary key (auto-generated by MongoDB)"
          },
          "name": {
            "bsonType": "string",
            "description": "User's display name"
          },
          "username": {
            "bsonType": "string",
            "description": "Unique username"
          },
          "email": {
            "bsonType": "string",
            "description": "User's email"
          },
          "password": {
            "bsonType": "string",
            "description": "Hashed password"
          },
          "phone_number": {
            "bsonType": "string",
            "description": "Optional phone number"
          },
          "notification_preferences": {
            "bsonType": "object",
            "description": "Notification settings"
          },
          "partner_preferences": {
            "bsonType": "object",
            "description": "Partner matching preferences"
          },
          "last_login": {
            "bsonType": "date"
          },
          "created_at": {
            "bsonType": "date"
          }
        }
      }
    },
    "indexes": [
      {"key": {"username": 1}, "unique": true},
      {"key": {"email": 1}, "unique": true}
    ]
  }
}